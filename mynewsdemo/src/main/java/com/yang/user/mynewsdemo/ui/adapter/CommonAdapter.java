package com.yang.user.mynewsdemo.ui.adapter;import android.content.Context;import android.support.v4.content.ContextCompat;import android.support.v7.widget.CardView;import android.support.v7.widget.RecyclerView;import android.util.Log;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.widget.TextView;import com.bumptech.glide.Glide;import com.yang.user.mynewsdemo.R;import com.yang.user.mynewsdemo.ui.bean.DailyBean;import com.yang.user.mynewsdemo.ui.widget.SquareImageView;import java.util.ArrayList;import java.util.List;import butterknife.BindView;import butterknife.ButterKnife;/** * Created by User on 2017/3/13. */public class CommonAdapter extends RecyclerView.Adapter {    private static final String TAG = "yang";    private LayoutInflater inflater;    private Context context;    private List<DailyBean.StoriesBean> listStories = new ArrayList<DailyBean.StoriesBean>();    private OnItemClickListener onItemClickListener;    public CommonAdapter(Context context, List<DailyBean.StoriesBean> listStories) {        this.context = context;        this.listStories = listStories;        inflater = LayoutInflater.from(context);    }    @Override    public ContentViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {        View view = inflater.inflate(R.layout.item_daily, parent, false);        ContentViewHolder holder = new ContentViewHolder(view);        return holder;    }    @Override    public void onBindViewHolder(RecyclerView.ViewHolder holder, final int position) {        final ContentViewHolder viewHolder = (ContentViewHolder) holder;        viewHolder.title.setText(listStories.get(position).getTitle());        if (listStories.get(position).isReadState()) {            viewHolder.title.setTextColor(ContextCompat.getColor(context,R.color.news_read));        } else {            viewHolder.title.setTextColor(ContextCompat.getColor(context,R.color.news_unread));        }        Glide.with(context).load(listStories.get(position).getImages().get(0)).into(viewHolder.image);        viewHolder.itemView.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                if (onItemClickListener != null) {                    CardView cv = (CardView) v.findViewById(R.id.cv_tech_content);                    onItemClickListener.onItemClick(viewHolder.getAdapterPosition(), cv);                }            }        });    }    @Override    public int getItemCount() {        Log.e(TAG, "getItemCount: " + listStories.size());        return listStories.size();    }    class ContentViewHolder extends RecyclerView.ViewHolder {        @BindView(R.id.tv_daily_item_title)        TextView title;        @BindView(R.id.iv_daily_item_image)        SquareImageView image;        public ContentViewHolder(View itemView) {            super(itemView);            ButterKnife.bind(this, itemView);        }    }    public void setOnItemClickListener(OnItemClickListener onItemClickListener) {        this.onItemClickListener = onItemClickListener;    }    public interface OnItemClickListener {        void onItemClick(int position, View view);    }    public void setReadState(int position,boolean readState) {        listStories.get(position).setReadState(readState);    }}